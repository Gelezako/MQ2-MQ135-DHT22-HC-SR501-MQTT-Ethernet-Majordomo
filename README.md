# MQ2-MQTT-Ethernet-Majordomo
Скетч для считывания и отправки через Ethernet соединение по протоколу MQTT в домашнюю систему автоматизации Majordomo

В скетче необходмо указать свой адресс MQTT брокера, порт, логин и пароль.Так же необходимо указать валидный IP адресс Ethernet Shild'a Arduino.

После привязки полученных значений в Majordomo для проверки срабатывания превышения порога концентрации природного газа необходимо зайти Объекты=>Timer=>onNewHour и вставить код:


//проверка значений с датчика природного газа MQ2

//проверка значений с датчика природного газа MQ2
if(gg("Kitchen.MQ2")>70 and gg("Kitchen.MQ2")<=100)
   say("Внимание, концентрация угарного газа в помещении превысила порог 70 едениц!",2);
else if(gg("Kitchen.MQ2")>100 and gg("Kitchen.MQ2")<=150)
   say("Внимание, концентрация угарного газа в помещении превысила порог 100 единиц!",2);
else if(gg("Kitchen.MQ2")>150 and gg("Kitchen.MQ2")<=200)
   say("Внимание, концентрация угарного газа в помещении превысила порог 150 единиц!",2);
else if(gg("Kitchen.MQ2")>200 and gg("Kitchen.MQ2")<=250)
   say("Внимание, концентрация угарного газа в помещении превысила порог 200 единиц!",2);
else if(gg("Kitchen.MQ2")>250 and gg("Kitchen.MQ2")<=300)
   say("Внимание, концентрация угарного газа в помещении превысила порог 250 единиц!",2);
else if(gg("Kitchen.MQ2")>300 and gg("Kitchen.MQ2")<=350)
   say("Внимание, концентрация угарного газа в помещении превысила порог 300 единиц!",2);
else if(gg("Kitchen.MQ2")>350)
   say("Внимание, концентрация угарного газа в помещении превысила порог 350 единиц!",2);

Где Kitchen.MQ2 свойство объекта из модуля MQTT.
